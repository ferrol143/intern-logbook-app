(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{3961:(e,a,t)=>{Promise.resolve().then(t.bind(t,9774))},9774:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>$});var r=t(5155),i=t(2115),s=t(4416),l=t(7340),n=t(7434),o=t(1007),d=t(4783),c=t(2631),u=t(4186),m=t(6287),p=t(2525),x=t(3109),h=t(9074),g=t(1539),b=t(8564),f=t(2713),k=t(9869),j=t(1788),w=t(4616),v=t(5695),y=t(3464),N=t(4752),C=t.n(N);let S=e=>e.substring(11,16),A=(e,a)=>C().fire({title:e,text:a,icon:"success",confirmButtonText:"OK",confirmButtonColor:"#ec4899",background:"#ffffff",customClass:{popup:"rounded-2xl",confirmButton:"rounded-xl px-6 py-3"}}),E=(e,a)=>C().fire({title:e,text:a,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#dc2626",background:"#ffffff",customClass:{popup:"rounded-2xl",confirmButton:"rounded-xl px-6 py-3"}}),K=function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Ya, Hapus!";return C().fire({title:e,text:a,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:t,cancelButtonText:"Batal",background:"#ffffff",customClass:{popup:"rounded-2xl",confirmButton:"rounded-xl px-6 py-3",cancelButton:"rounded-xl px-6 py-3"}})},M=e=>C().fire({title:e,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,background:"#ffffff",customClass:{popup:"rounded-2xl"},didOpen:()=>{C().showLoading()}}),B=e=>{let{isOpen:a,onClose:t,title:i,children:l}=e;return a?(0,r.jsx)("div",{className:"fixed inset-0 overflow-y-auto z-10",children:(0,r.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:t}),(0,r.jsxs)("div",{className:"relative w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white shadow-2xl transition-all",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-pink-50 to-rose-50",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",children:i}),(0,r.jsx)("button",{onClick:t,className:"rounded-full p-2 text-gray-400 hover:bg-white hover:text-gray-600 hover:shadow-md transition-all duration-200","aria-label":"Tutup modal",type:"button",children:(0,r.jsx)(s.A,{className:"h-5 w-5"})})]}),(0,r.jsx)("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:l})]})]})}):null},T=e=>{let{label:a,className:t="",error:i,required:s=!1,...l}=e;return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a,s&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsx)("input",{...l,className:"w-full px-4 py-3 rounded-xl border-2 transition-all duration-200 focus:ring-4 focus:ring-pink-500/20 focus:border-pink-500 hover:border-pink-300 ".concat(i?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"border-gray-200 bg-white"," ").concat(t)}),i&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:i})]})},D=e=>{let{label:a,className:t="",error:i,options:s,required:l=!1,...n}=e;return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a,l&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsxs)("select",{...n,className:"w-full px-4 py-3 rounded-xl border-2 transition-all duration-200 focus:ring-4 focus:ring-pink-500/20 focus:border-pink-500 hover:border-pink-300 ".concat(i?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"border-gray-200 bg-white"," ").concat(t),children:[(0,r.jsxs)("option",{value:"",children:["Pilih ",a]}),s.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]}),i&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:i})]})},_=e=>{let{label:a,className:t="",required:i=!1,...s}=e;return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a,i&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsx)("textarea",{...s,rows:3,className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 bg-white hover:border-pink-300 transition-all duration-200 focus:ring-4 focus:ring-pink-500/20 focus:border-pink-500 resize-none ".concat(t)})]})},P=e=>{let{label:a,onChange:t,value:i,error:s,required:l=!1}=e;return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a,l&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsx)("input",{type:"file",onChange:e=>{var a;return t((null==(a=e.target.files)?void 0:a[0])||null)},className:"w-full px-4 py-3 rounded-xl border-2 transition-all duration-200 focus:ring-4 focus:ring-pink-500/20 focus:border-pink-500 hover:border-pink-300 ".concat(s?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"border-gray-200 bg-white"),accept:"image/*,.pdf,.doc,.docx"}),i&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["File terpilih: ",i.name]}),s&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s})]})},O=e=>{let{children:a,variant:t="outline",className:i="",disabled:s,loading:l=!1,...n}=e;return(0,r.jsx)("button",{disabled:s||l,...n,className:"".concat("px-6 py-3 rounded-xl font-medium transition-all duration-200 transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-4 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"," ").concat({primary:"bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white shadow-lg hover:shadow-xl focus:ring-pink-500/50",outline:"border-2 border-pink-200 text-gray-700 hover:bg-gradient-to-r hover:from-pink-50 hover:to-rose-50 hover:border-pink-400 hover:text-pink-600 focus:ring-pink-500/50 bg-white",danger:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white shadow-lg hover:shadow-xl focus:ring-red-500/50"}[t]," ").concat(i),children:l?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a]}):a})},F=e=>{let{children:a,className:t="",hover:i=!0}=e;return(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden backdrop-blur-sm ".concat(i?"hover:shadow-2xl transition-all duration-300 hover:-translate-y-1 hover:border-pink-200":""," ").concat(t),children:a})},z=e=>{let{children:a,className:t=""}=e;return(0,r.jsx)("div",{className:"p-6 pb-4 ".concat(t),children:a})},V=e=>{let{children:a,className:t=""}=e;return(0,r.jsx)("div",{className:"p-6 pt-0 ".concat(t),children:a})},L=e=>{let{children:a,className:t=""}=e;return(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 ".concat(t),children:a})},q=e=>{let{isOpen:a,onClose:t}=e,i=(0,v.usePathname)(),d=(0,v.useRouter)(),c=[{icon:l.A,label:"Noyaaa",id:"noyaaa",path:"/dashboard/noyaa"},{icon:n.A,label:"Lolzpop",id:"ferrol-azki",path:"/dashboard/ferrol-azki"}];return(0,r.jsxs)(r.Fragment,{children:[a&&(0,r.jsx)("div",{className:"fixed inset-0 z-20 bg-black/50 backdrop-blur-sm lg:hidden transition-opacity duration-300",onClick:t}),(0,r.jsxs)("aside",{className:"fixed left-0 top-0 h-screen w-64 bg-gradient-to-b from-orange-400 to-yellow-500 shadow-2xl z-30 transform transition-all duration-300 ease-in-out lg:translate-x-0 ".concat(a?"translate-x-0":"-translate-x-full"," flex flex-col"),children:[(0,r.jsx)("div",{className:"p-6 border-b border-white/10 bg-white/5 backdrop-blur-sm flex-shrink-0",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-xl backdrop-blur-sm flex items-center justify-center shadow-lg",children:(0,r.jsx)("span",{className:"text-white font-bold text-lg",children:"A"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-white font-bold text-lg",children:"Admin"}),(0,r.jsx)("p",{className:"text-purple-200 text-xs",children:"Admin System"})]})]}),(0,r.jsx)("button",{onClick:t,className:"lg:hidden p-2 rounded-xl text-purple-200 hover:bg-white/10 hover:text-white transition-all duration-200",type:"button","aria-label":"Tutup menu",children:(0,r.jsx)(s.A,{className:"w-5 h-5"})})]})}),(0,r.jsx)("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto min-h-0",children:c.map(e=>{let a=i===e.path;return(0,r.jsxs)("button",{onClick:()=>d.push(e.path),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 text-left group ".concat(a?"bg-white/20 text-white shadow-lg backdrop-blur-sm border border-white/10":"text-purple-200 hover:bg-white/10 hover:text-white hover:shadow-md"),type:"button",children:[(0,r.jsx)(e.icon,{className:"w-5 h-5 transition-transform duration-200 ".concat(a?"":"group-hover:scale-110")}),(0,r.jsx)("span",{className:"font-medium",children:e.label}),a&&(0,r.jsx)("div",{className:"ml-auto w-2 h-2 bg-white rounded-full animate-pulse"})]},e.id)})}),(0,r.jsx)("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:(0,r.jsx)("div",{className:"bg-pink-600/5 backdrop-blur-sm rounded-xl p-4 border border-pink-600/5 hover:bg-pink-500/40 transition-all duration-200 group",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-pink-400 rounded-full flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform duration-200",children:(0,r.jsx)(o.A,{className:"w-5 h-5 text-white"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-white font-medium text-sm truncate",children:"Admin User"}),(0,r.jsx)("p",{className:"text-purple-200 text-xs truncate",children:"admin@logbook.com"})]})]})})})]})]})},I=e=>{let{onMenuClick:a,sidebarOpen:t}=e;return(0,r.jsx)("nav",{className:"bg-white backdrop-blur-md border-b border-pink-200/50 sticky top-0 shadow-sm z-1",children:(0,r.jsx)("div",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("button",{onClick:a,className:"lg:hidden p-2 rounded-xl text-gray-600 hover:bg-pink-50 hover:text-pink-600 transition-all duration-200 group",type:"button","aria-label":t?"Tutup menu":"Buka menu",children:(0,r.jsx)(d.A,{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-200"})}),(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsx)("div",{className:"p-2 bg-pink-500 rounded-xl shadow-lg",children:(0,r.jsx)(c.A,{className:"w-6 h-6 text-white"})})})]}),(0,r.jsx)("div",{className:"flex items-center gap-3"})]})})})},W={author:"",tanggal:"",kegiatan:"",jenisKegiatan:"",waktuMulai:"",waktuSelesai:"",tipePekerjaan:"",lokasi:"",keterangan:"",proof:null},H=[{value:"berita-kegiatan",label:"Berita Kegiatan"},{value:"berita-acara",label:"Berita Acara"},{value:"berita-acara-ujian",label:"Berita Acara Ujian"}],U=[{value:"online",label:"Online"},{value:"hybrid",label:"Hybrid"},{value:"offline",label:"Offline"}],R=e=>{let{isOpen:a,onClose:t,onSubmit:s,initialData:l}=e,[n,o]=(0,i.useState)(W),[d,c]=(0,i.useState)(null),[u,m]=(0,i.useState)({}),[p,x]=(0,i.useState)(!1),h=(0,v.usePathname)(),g=(0,i.useCallback)(e=>{let a=new Date(e),t=a.getFullYear(),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");return"".concat(t,"-").concat(r,"-").concat(i)},[]),b=(0,i.useCallback)(e=>e.substring(11,16),[]);(0,i.useEffect)(()=>{l?o({author:l.author,tanggal:g(l.createdAt),kegiatan:l.activity,jenisKegiatan:l.type,waktuMulai:b(l.start_time),waktuSelesai:b(l.end_time),tipePekerjaan:l.work_type,lokasi:l.location,keterangan:l.description||"",proof:null}):o(W),c(null),m({})},[l,a]);let f=(0,i.useCallback)(()=>{var e;let a={};if(n.tanggal.trim()||(a.tanggal="Tanggal wajib diisi"),n.kegiatan.trim()||(a.kegiatan="Kegiatan wajib diisi"),n.jenisKegiatan.trim()||(a.jenisKegiatan="Jenis kegiatan wajib dipilih"),n.waktuMulai.trim()||(a.waktuMulai="Waktu mulai wajib diisi"),n.waktuSelesai.trim()||(a.waktuSelesai="Waktu selesai wajib diisi"),n.tipePekerjaan.trim()||(a.tipePekerjaan="Tipe pekerjaan wajib dipilih"),n.lokasi.trim()||(a.lokasi="Lokasi kegiatan wajib diisi"),(null==(e=n.keterangan)?void 0:e.trim())||(a.keterangan="Keterangan kegiatan wajib diisi"),d||l||(a.proof="Bukti kegiatan wajib diupload"),n.waktuMulai&&n.waktuSelesai){let e=new Date("2000-01-01T".concat(n.waktuMulai));new Date("2000-01-01T".concat(n.waktuSelesai))<=e&&(a.waktuSelesai="Waktu selesai harus setelah waktu mulai")}return m(a),0===Object.keys(a).length},[n,d,l]),k=(0,i.useCallback)(async()=>{if(f()&&!p){x(!0),M(l?"Mengupdate kegiatan...":"Menyimpan kegiatan...");try{let e=h.includes("ferrol-azki")?"ferrol-azki":"noyaaa",a=new FormData;if(a.append("author",e),a.append("tanggal",n.tanggal),a.append("kegiatan",n.kegiatan),a.append("jenisKegiatan",n.jenisKegiatan),a.append("waktuMulai",n.waktuMulai),a.append("waktuSelesai",n.waktuSelesai),a.append("tipePekerjaan",n.tipePekerjaan),a.append("lokasi",n.lokasi),a.append("keterangan",n.keterangan||""),d&&a.append("proof",d),l){let t=await y.A.put("/api/activities/update/".concat(l.id),a,{headers:{"Content-Type":"multipart/form-data"}});if(t.data.success){let a={...l,...n,author:e,proof:t.data.data.proof||l.proof};s(a),C().close(),await A("Berhasil!","Kegiatan berhasil diupdate")}else throw Error(t.data.error||"Failed to update activity")}else{let t=await y.A.post("/api/activities",a,{headers:{"Content-Type":"multipart/form-data"}});if(t.data.success){let a={...t.data.data,id:t.data.data.id||"activity-".concat(Date.now()),author:e,tanggal:n.tanggal,kegiatan:n.kegiatan,jenisKegiatan:n.jenisKegiatan,waktuMulai:n.waktuMulai,waktuSelesai:n.waktuSelesai,tipePekerjaan:n.tipePekerjaan,lokasi:n.lokasi,keterangan:n.keterangan||"",proof:t.data.data.proof};s(a),C().close(),await A("Berhasil!","Kegiatan berhasil ditambahkan")}else throw Error(t.data.error||"Failed to create activity")}o(W),c(null),m({})}catch(s){if(console.error("Error submitting activity:",s),C().close(),y.A.isAxiosError(s)){var e,a,t,r,i;if((null==(e=s.response)?void 0:e.status)===400){let e=null==(a=s.response.data)?void 0:a.details;if(e&&Array.isArray(e)){let a={};e.forEach(e=>{e.path&&e.path.length>0&&(a[e.path[0]]=e.message)}),m(a),await E("Validasi Error","Mohon periksa kembali form yang diisi")}else await E("Error",(null==(t=s.response.data)?void 0:t.error)||"Validation error occurred")}else await E("Error",(null==(i=s.response)||null==(r=i.data)?void 0:r.error)||"Terjadi kesalahan saat menyimpan data")}else await E("Network Error","Terjadi kesalahan jaringan. Silakan coba lagi.")}finally{x(!1)}}},[n,d,s,f,l,h,p]),j=(0,i.useCallback)((e,a)=>{o(t=>({...t,[e]:a})),u[e]&&m(a=>({...a,[e]:void 0}))},[u]),w=(0,i.useCallback)(e=>{c(e),u.proof&&m(e=>({...e,proof:void 0}))},[u.proof]);return(0,r.jsxs)(B,{isOpen:a,onClose:t,title:l?"Edit Kegiatan":"Tambah Kegiatan Baru",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(T,{label:"Tanggal Kegiatan",type:"date",value:n.tanggal,onChange:e=>j("tanggal",e.target.value),required:!0,error:u.tanggal,disabled:p}),(0,r.jsx)(T,{label:"Kegiatan",value:n.kegiatan,onChange:e=>j("kegiatan",e.target.value),required:!0,error:u.kegiatan,placeholder:"Masukkan nama kegiatan",disabled:p}),(0,r.jsx)(D,{label:"Jenis Kegiatan",value:n.jenisKegiatan,onChange:e=>j("jenisKegiatan",e.target.value),options:H,required:!0,error:u.jenisKegiatan,disabled:p}),(0,r.jsx)(T,{label:"Waktu Mulai",type:"time",value:n.waktuMulai,onChange:e=>j("waktuMulai",e.target.value),required:!0,error:u.waktuMulai,disabled:p}),(0,r.jsx)(T,{label:"Waktu Selesai",type:"time",value:n.waktuSelesai,onChange:e=>j("waktuSelesai",e.target.value),required:!0,error:u.waktuSelesai,disabled:p}),(0,r.jsx)(D,{label:"Tipe Pekerjaan",value:n.tipePekerjaan,onChange:e=>j("tipePekerjaan",e.target.value),options:U,required:!0,error:u.tipePekerjaan,disabled:p}),(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsx)(T,{label:"Lokasi Kegiatan",value:n.lokasi,onChange:e=>j("lokasi",e.target.value),required:!0,error:u.lokasi,placeholder:"Masukkan lokasi kegiatan",disabled:p})}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)(_,{label:"Keterangan Kegiatan",value:n.keterangan,onChange:e=>j("keterangan",e.target.value),required:!0,placeholder:"Masukkan keterangan detail kegiatan",disabled:p}),u.keterangan&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.keterangan})]}),(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsx)(P,{label:"Bukti Kegiatan",onChange:w,value:d,error:u.proof,required:!l})})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,r.jsx)(O,{variant:"outline",onClick:t,type:"button",disabled:p,children:"Batal"}),(0,r.jsx)(O,{variant:"primary",onClick:k,type:"button",loading:p,disabled:p,children:l?"Update":"Tambah"})]})]})},J=e=>{let{activities:a,onEdit:t,onDelete:s}=e,l=(0,i.useCallback)(e=>new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),[]),n=(0,i.useCallback)(e=>e.substring(11,16),[]),o=(0,i.useCallback)(e=>{let a=H.find(a=>a.value===e);return a?a.label:e},[]),d=(0,i.useCallback)(e=>{let a=U.find(a=>a.value===e);return a?a.label:e},[]),x=(0,i.useCallback)(async e=>{(await K("Apakah Anda yakin?","Kegiatan yang dihapus tidak dapat dikembalikan!","Ya, Hapus!")).isConfirmed&&s(e)},[s]);return 0===a.length?(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-pink-100 to-rose-100 rounded-2xl mb-6 animate-pulse",children:(0,r.jsx)(c.A,{className:"w-10 h-10 text-pink-600"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Belum ada kegiatan yang tercatat"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Mulai dengan menambahkan kegiatan pertama Anda"})]}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-max w-full border-collapse",role:"table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-pink-200",children:[(0,r.jsx)("th",{scope:"col",className:"text-left py-4 px-6 font-semibold text-gray-700 bg-gradient-to-r from-pink-50 to-rose-50/30",children:"Tanggal"}),(0,r.jsx)("th",{scope:"col",className:"text-left py-4 px-6 font-semibold text-gray-700 bg-gradient-to-r from-pink-50 to-rose-50/30",children:"Bukti"}),(0,r.jsx)("th",{scope:"col",className:"text-left py-4 px-6 font-semibold text-gray-700 bg-gradient-to-r from-pink-50 to-rose-50/30",children:"Kegiatan"}),(0,r.jsx)("th",{scope:"col",className:"text-left py-4 px-6 font-semibold text-gray-700 bg-gradient-to-r from-pink-50 to-rose-50/30",children:"Jenis"}),(0,r.jsx)("th",{scope:"col",className:"text-left py-4 px-6 font-semibold text-gray-700 bg-gradient-to-r from-pink-50 to-rose-50/30",children:"Waktu"}),(0,r.jsx)("th",{scope:"col",className:"text-left py-4 px-6 font-semibold text-gray-700 bg-gradient-to-r from-pink-50 to-rose-50/30",children:"Tipe"}),(0,r.jsx)("th",{scope:"col",className:"text-left py-4 px-6 font-semibold text-gray-700 bg-gradient-to-r from-pink-50 to-rose-50/30",children:"Deskripsi"}),(0,r.jsx)("th",{scope:"col",className:"text-left py-4 px-6 font-semibold text-gray-700 bg-gradient-to-r from-pink-50 to-rose-50/30",children:"Lokasi"}),(0,r.jsx)("th",{scope:"col",className:"text-left py-4 px-6 font-semibold text-gray-700 bg-gradient-to-r from-pink-50 to-rose-50/30",children:"Aksi"})]})}),(0,r.jsx)("tbody",{children:a.map(e=>(0,r.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gradient-to-r hover:from-pink-50/50 hover:to-rose-50/50 transition-all duration-300",children:[(0,r.jsx)("td",{className:"py-4 px-6 font-medium text-gray-900",children:l(e.createdAt)}),(0,r.jsx)("td",{className:"py-4 px-6 font-medium text-gray-900",children:(0,r.jsx)("img",{src:"".concat(e.proof),alt:"Proof",className:"h-20 w-auto object-cover rounded"})}),(0,r.jsx)("td",{className:"py-4 px-6",children:(0,r.jsx)("div",{className:"font-semibold text-gray-900",children:e.activity})}),(0,r.jsx)("td",{className:"py-4 px-6",children:(0,r.jsx)("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium bg-gradient-to-r from-blue-100 to-blue-200 text-blue-700 rounded-full",children:o(e.type)})}),(0,r.jsx)("td",{className:"py-4 px-6",children:(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 text-xs font-medium bg-gradient-to-r from-pink-100 to-rose-200 text-pink-700 rounded-full",children:[(0,r.jsx)(u.A,{className:"w-3 h-3"}),n(e.start_time)," - ",n(e.end_time)]})}),(0,r.jsx)("td",{className:"py-4 px-6",children:(0,r.jsx)("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full ".concat("online"===e.work_type?"bg-gradient-to-r from-green-100 to-green-200 text-green-700":"hybrid"===e.work_type?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-700":"bg-gradient-to-r from-purple-100 to-purple-200 text-purple-700"),children:d(e.work_type)})}),(0,r.jsx)("td",{className:"py-4 px-6 text-gray-600 max-w-xs",children:(0,r.jsx)("div",{className:"truncate",title:e.description,children:e.description||"Tidak ada deskripsi"})}),(0,r.jsx)("td",{className:"py-4 px-6 text-gray-600 max-w-xs",children:(0,r.jsx)("div",{className:"truncate",title:e.location,children:e.location})}),(0,r.jsx)("td",{className:"py-4 px-6",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>t(e),className:"inline-flex items-center justify-center w-9 h-9 text-pink-600 hover:text-pink-700 hover:bg-pink-100 rounded-xl transition-all duration-200 transform hover:scale-110",title:"Edit kegiatan","aria-label":"Edit kegiatan ".concat(e.activity),type:"button",children:(0,r.jsx)(m.A,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>x(e.id),className:"inline-flex items-center justify-center w-9 h-9 text-red-600 hover:text-red-700 hover:bg-red-100 rounded-xl transition-all duration-200 transform hover:scale-110",title:"Hapus kegiatan","aria-label":"Hapus kegiatan ".concat(e.activity),type:"button",children:(0,r.jsx)(p.A,{className:"h-4 w-4"})})]})})]},e.id))})]})})},G=async e=>{try{M("Menyiapkan file CSV...");let a=["Tanggal,Waktu Mulai,Waktu Selesai,Kegiatan,Deskripsi",...e.map(e=>[e.activity,e.start_time,e.end_time,'"'.concat(e.activity.replace(/"/g,'""'),'"'),'"'.concat((e.description||"").replace(/"/g,'""'),'"')].join(","))].join("\n"),t=new Blob([a],{type:"text/csv;charset=utf-8;"}),r=window.URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download="logbook-aktivitas-".concat(new Date().toISOString().split("T")[0],".csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r),C().close(),await A("Berhasil!","File CSV berhasil didownload")}catch(e){C().close(),await E("Error","Gagal mengexport file CSV")}},Y=async(e,a)=>{M("Mengimport file CSV...");let t=new FileReader;t.onload=async e=>{try{var t;let r=(null==(t=e.target)?void 0:t.result)||"";if(!r){C().close(),await E("Error","File CSV kosong atau tidak valid");return}let i=r.split("\n").slice(1).filter(e=>e.trim()).map((e,a)=>{let t=(e.match(/(".*?"|[^",\s]+)(?=\s*,|\s*$)/g)||[]).map(e=>e.replace(/^"|"$/g,"").replace(/""/g,'"').trim());return{id:"imported-".concat(Date.now(),"-").concat(a),author:"Imported",createdAt:t[0]||"",start_time:t[1]||"",end_time:t[2]||"",activity:t[3]||"",description:t[4]||"",type:t[5]||"berita-kegiatan",work_type:t[6]||"online",location:t[7]||"Tidak diketahui"}}).filter(e=>e.createdAt&&e.start_time&&e.end_time&&e.activity);a(i),C().close(),await A("Berhasil!","".concat(i.length," kegiatan berhasil diimport"))}catch(e){console.error("Error parsing CSV:",e),C().close(),await E("Error","Format file CSV tidak valid. Mohon periksa format file.")}},t.onerror=async()=>{C().close(),await E("Error","Gagal membaca file")},t.readAsText(e)},$=function(){let[e,a]=(0,i.useState)(!1),[t,s]=(0,i.useState)([]),[l,n]=(0,i.useState)(!1),[o,d]=(0,i.useState)(null),[m,p]=(0,i.useState)(1),[N,K]=(0,i.useState)(1),[B,T]=(0,i.useState)(!1),D=(0,v.usePathname)(),_=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{T(!0);let a=await y.A.get("/api/activities/".concat(D.includes("ferrol-azki")?"ferrol-azki":"noyaaa","?page=").concat(e,"&limit=",10));if(a.data.success)s(a.data.data||[]),p(a.data.pagination.page),K(a.data.pagination.pages);else throw Error(a.data.error||"Failed to fetch activities")}catch(e){console.error("Error fetching activities:",e),await E("Error","Gagal memuat data kegiatan. Silakan coba lagi.")}finally{T(!1)}};(0,i.useEffect)(()=>{_()},[]);let P=(0,i.useMemo)(()=>{let e=new Date,a=new Date(e);a.setDate(e.getDate()-e.getDay()),a.setHours(0,0,0,0);let r=new Date(e.getFullYear(),e.getMonth(),1),i=0,s=0,l=0;return t.forEach(e=>{let t=new Date(e.createdAt),[n,o]=S(e.start_time).split(":").map(Number),[d,c]=S(e.end_time).split(":").map(Number),u=(60*d+c-(60*n+o))/60;u>0&&(l+=u,t>=a&&(i+=u),t>=r&&(s+=u))}),{weekly:Math.round(100*i)/100,monthly:Math.round(100*s)/100,total:Math.round(100*l)/100}},[t]),W=(0,i.useCallback)(e=>{"id"in e&&s(a=>[...a,e]),n(!1)},[]),H=(0,i.useCallback)(async e=>{"id"in e&&(s(a=>a.map(a=>a.id===e.id?e:a)),await _(m)),d(null),n(!1)},[]),U=(0,i.useCallback)(async e=>{try{M("Menghapus kegiatan...");let a=await y.A.delete("/api/activities/delete/".concat(e));if(a.data.success)s(a=>a.filter(a=>a.id!==e)),C().close(),await A("Berhasil!","Kegiatan berhasil dihapus");else throw Error(a.data.error||"Failed to delete activity")}catch(e){console.error("Error deleting activity:",e),C().close(),await E("Error","Gagal menghapus kegiatan. Silakan coba lagi.")}},[]),$=(0,i.useCallback)(()=>{G(t)},[t]),Q=(0,i.useCallback)(e=>{var a;let t=null==(a=e.target.files)?void 0:a[0];t&&(Y(t,e=>{s(a=>[...a,...e])}),e.target.value="")},[]),X=(0,i.useCallback)(e=>{d(e),n(!0)},[]),Z=(0,i.useCallback)(()=>{n(!1),d(null)},[]),ee=(0,i.useCallback)(()=>{a(e=>!e)},[]);return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-pink-50/30 to-rose-50/50 flex",children:[(0,r.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,r.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-r from-pink-400/10 to-rose-400/10 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"}),(0,r.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-r from-rose-400/10 to-pink-400/10 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse",style:{animationDelay:"2s"}}),(0,r.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-pink-400/5 to-rose-400/5 rounded-full mix-blend-multiply filter blur-3xl opacity-40 animate-pulse",style:{animationDelay:"4s"}})]}),(0,r.jsx)(q,{isOpen:e,onClose:()=>a(!1)}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 lg:ml-64",children:[(0,r.jsx)(I,{onMenuClick:ee,sidebarOpen:e}),(0,r.jsx)("main",{className:"flex-1 relative overflow-auto",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[(0,r.jsx)("section",{children:(0,r.jsxs)(F,{className:"bg-gradient-to-r from-orange-400 to-yellow-500 border-0 text-white overflow-hidden relative group",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform duration-500"}),(0,r.jsx)(V,{className:"p-6 relative",children:(0,r.jsxs)("div",{className:"flex items-center justify-between pt-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Halo, Sayangg!"}),(0,r.jsx)("p",{className:"text-orange-100",children:"Selamat datang di dashboard kita!"})]}),(0,r.jsx)("div",{className:"hidden md:block",children:(0,r.jsx)("div",{className:"w-24 h-16 bg-white/20 rounded-lg backdrop-blur-sm flex items-center justify-center",children:(0,r.jsx)(c.A,{className:"w-8 h-8 text-white/80"})})})]})})]})}),(0,r.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)(F,{className:"bg-gradient-to-br from-pink-500 to-rose-500 text-white border-0 overflow-hidden relative group",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform duration-500"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,r.jsxs)(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative",children:[(0,r.jsx)(L,{className:"text-sm font-medium text-pink-100",children:"Total Jam Minggu Ini"}),(0,r.jsx)("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm group-hover:bg-white/30 transition-all duration-300",children:(0,r.jsx)(u.A,{className:"h-5 w-5 text-white"})})]}),(0,r.jsxs)(V,{className:"relative",children:[(0,r.jsxs)("div",{className:"text-3xl font-bold mb-2 group-hover:scale-105 transition-transform duration-300",children:[P.weekly," jam"]}),(0,r.jsxs)("div",{className:"flex items-center text-pink-100 text-sm",children:[(0,r.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Aktivitas dalam 7 hari terakhir"]})]})]}),(0,r.jsxs)(F,{className:"bg-gradient-to-br from-rose-500 to-pink-600 text-white border-0 overflow-hidden relative group",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform duration-500"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,r.jsxs)(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative",children:[(0,r.jsx)(L,{className:"text-sm font-medium text-rose-100",children:"Total Jam Bulan Ini"}),(0,r.jsx)("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm group-hover:bg-white/30 transition-all duration-300",children:(0,r.jsx)(h.A,{className:"h-5 w-5 text-white"})})]}),(0,r.jsxs)(V,{className:"relative",children:[(0,r.jsxs)("div",{className:"text-3xl font-bold mb-2 group-hover:scale-105 transition-transform duration-300",children:[P.monthly," jam"]}),(0,r.jsxs)("div",{className:"flex items-center text-rose-100 text-sm",children:[(0,r.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Aktivitas bulan berjalan"]})]})]}),(0,r.jsxs)(F,{className:"bg-gradient-to-br from-pink-600 to-rose-700 text-white border-0 overflow-hidden relative group",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform duration-500"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,r.jsxs)(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative",children:[(0,r.jsx)(L,{className:"text-sm font-medium text-pink-100",children:"Total Keseluruhan"}),(0,r.jsx)("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm group-hover:bg-white/30 transition-all duration-300",children:(0,r.jsx)(b.A,{className:"h-5 w-5 text-white"})})]}),(0,r.jsxs)(V,{className:"relative",children:[(0,r.jsxs)("div",{className:"text-3xl font-bold mb-2 group-hover:scale-105 transition-transform duration-300",children:[P.total," jam"]}),(0,r.jsxs)("div",{className:"flex items-center text-pink-100 text-sm",children:[(0,r.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Semua aktivitas yang tercatat"]})]})]})]}),(0,r.jsx)("section",{children:(0,r.jsxs)(F,{className:"border-0 shadow-2xl backdrop-blur-sm bg-white/95",children:[(0,r.jsx)(z,{className:"bg-gradient-to-r from-pink-50/80 to-rose-50/50 border-b border-pink-100/50 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,r.jsx)("input",{type:"file",accept:".csv",onChange:Q,className:"hidden",id:"import-file","aria-label":"Import CSV file"}),(0,r.jsxs)(O,{variant:"outline",onClick:()=>{var e;return null==(e=document.getElementById("import-file"))?void 0:e.click()},className:"flex items-center gap-2 shadow-lg text-sm",type:"button",children:[(0,r.jsx)(k.A,{className:"h-4 w-4"}),"Import CSV"]}),(0,r.jsxs)(O,{variant:"outline",onClick:$,className:"flex items-center gap-2 shadow-lg text-sm",disabled:0===t.length,type:"button",children:[(0,r.jsx)(j.A,{className:"h-4 w-4"}),"Export CSV"]})]}),(0,r.jsxs)(O,{variant:"primary",onClick:()=>n(!0),className:"flex items-center gap-2 shadow-xl whitespace-nowrap",type:"button",children:[(0,r.jsx)(w.A,{className:"h-4 w-4"}),"Tambah Kegiatan"]})]})}),(0,r.jsxs)(V,{className:"p-0",children:[(0,r.jsx)(J,{activities:t,onEdit:X,onDelete:U}),N>1&&(0,r.jsxs)("div",{className:"flex justify-center gap-2 mt-4",children:[(0,r.jsx)("button",{onClick:()=>{m>1&&p(e=>e-1)},disabled:1===m,className:"px-3 py-1 rounded bg-gray-200 disabled:opacity-50",children:"Previous"}),(0,r.jsxs)("span",{className:"px-3 py-1",children:["Page ",m," of ",N]}),(0,r.jsx)("button",{onClick:()=>{m<N&&p(e=>e+1)},disabled:m===N,className:"px-3 py-1 rounded bg-gray-200 disabled:opacity-50",children:"Next"})]})]})]})}),(0,r.jsx)(R,{isOpen:l,onClose:Z,onSubmit:o?H:W,initialData:o})]})})]})]})}}},e=>{e.O(0,[320,850,441,964,358],()=>e(e.s=3961)),_N_E=e.O()}]);